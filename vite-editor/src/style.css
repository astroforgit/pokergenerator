body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #222; color: #eee; display: flex; flex-direction: column; height: 100vh; margin: 0; }
header { background: #333; padding: 10px 20px; border-bottom: 1px solid #444; display: flex; justify-content: space-between; align-items: center; }
h1 { margin: 0; font-size: 1.2rem; }
.main-container { display: flex; flex: 1; overflow: hidden; }
.sidebar { width: 250px; background: #2a2a2a; border-right: 1px solid #444; overflow-y: auto; display: flex; flex-direction: column; }
.file-list { list-style: none; padding: 0; margin: 0; }
.file-item { padding: 10px 15px; cursor: pointer; border-bottom: 1px solid #333; display: flex; justify-content: space-between; font-size: 0.9rem; }
.file-item:hover { background: #3a3a3a; }
.file-item.active { background: #005a9e; color: white; }
.file-item .size { font-size: 0.75rem; color: #aaa; }
.editor-area { flex: 1; padding: 20px; display: flex; flex-direction: column; align-items: center; overflow-y: auto; }
.canvas-container {
    border: 2px solid #555;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    position: relative;
    background: #000;
}
#editorCanvas {
    display: block;
    image-rendering: pixelated;
    /* Atari pixels are rectangular: 1.70x wider than tall */
    /* Display at larger size for better editing */
    width: 960px;  /* 160 * 6 */
    height: 560px; /* Maintains 1.94:1 aspect ratio */
    cursor: crosshair;
}
#importCanvas {
    display: block;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    width: 640px;  /* 160 * 4 for preview */
    height: 560px; /* 140 * 4 for preview */
    border: 1px solid #555;
}
.canvas-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.tool-section {
    background: #2a2a2a;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    max-width: 800px;
}
.tool-section h3 {
    margin-top: 0;
    color: #fff;
}
#cropOverlay {
    position: absolute;
    border: 2px dashed #0f0;
    pointer-events: none;
}
.toolbar { margin-top: 15px; display: flex; gap: 10px; background: #333; padding: 10px; border-radius: 5px; }
button { background: #444; border: 1px solid #555; color: white; padding: 5px 15px; cursor: pointer; border-radius: 3px; }
button:hover { background: #555; }
button.primary { background: #005a9e; border-color: #004578; }
button.primary:hover { background: #004578; }
input[type="file"] { display: none; }
.palette { display: flex; gap: 5px; margin-top: 10px; }
.swatch { width: 30px; height: 30px; border: 2px solid #555; cursor: pointer; }
.swatch.selected { border-color: white; transform: scale(1.1); }
.status { margin-left: 10px; font-size: 0.8rem; color: #aaa; }

/* Help Modal Styles */
#helpModal h3 {
    color: #4CAF50;
    border-bottom: 2px solid #4CAF50;
    padding-bottom: 5px;
    margin-top: 25px;
}
#helpModal h3:first-of-type {
    margin-top: 0;
}
#helpModal ul {
    margin-left: 20px;
    line-height: 1.8;
}
#helpModal li {
    margin-bottom: 8px;
}
#helpModal strong {
    color: #fff;
}
#closeHelpBtn:hover {
    background: #d32f2f !important;
    transform: scale(1.05);
    transition: all 0.2s;
}
